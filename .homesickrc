possible_filenames = [".zshrc", ".bash_profile", ".bashrc"]

for filename in possible_filenames
  full_path = "#{ENV['HOME']}/#{filename}"

  if File.exists?(full_path)
    profile_file = full_path
    break
  end
end

if profile_file
  if File.readlines(profile_file).grep(/source \.conrad-profile/).size == 0
    File.open(profile_file, 'a') { |file| file.write("source .conrad-profile") }
    puts "The `.conrad-profile` file was sourced in your shell profile."
  else
    puts "Your shell profile already sources `.conrad-profile`."
  end
else
  puts "Please source the `.conrad-profile` file in your shell profile."
end

# vim: set filetype=ruby
