#!/bin/bash

if [ "$(uname)" == "Darwin" ]; then
  # Basic binary paths
  export PATH="$PATH:$(brew --prefix)/sbin"
  export PATH="$PATH:$(brew --prefix)/bin"

  # Completion libraries
  if [ -d $(brew --prefix)/etc/bash_completion.d ]; then
    for bcfile in $(brew --prefix)/etc/bash_completion.d/* ; do
      . $bcfile
    done
  fi

  # Homeshick
  export HOMESHICK_DIR="$(brew --prefix)/opt/homeshick"
  source "$(brew --prefix)/opt/homeshick/homeshick.sh"

  # Node
  export PATH="$PATH:./node_modules/.bin"
  export NVM_DIR="$HOME/.nvm"
  source "$(brew --prefix)/opt/nvm/nvm.sh"

  # Ruby
  if command -v rbenv 1>/dev/null 2>&1; then
    eval "$(rbenv init -)"
  fi

  # Go
  export GOROOT=$(brew --prefix)/opt/go/libexec
  export GOPATH="$HOME/go"
  export PATH="$PATH:$GOROOT/bin"
  export PATH="$PATH:$GOPATH/bin"
  
  # Python
  export LDFLAGS="-L/usr/local/opt/zlib/lib"
  export CPPFLAGS="-I/usr/local/opt/zlib/include"
  export PYENV_ROOT="$HOME/.pyenv"
  export PATH="$PYENV_ROOT/bin:$PATH"
  if command -v pyenv 1>/dev/null 2>&1; then
    eval "$(pyenv init -)"
  fi
fi
